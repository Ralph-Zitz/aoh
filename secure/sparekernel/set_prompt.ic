#if !__EFUN_DEFINED__(set_prompt)

#include <driver/configuration.h>

varargs string|closure set_prompt(string|closure|int prompt, object ob)
{
    ob ||= efun::this_player();

    if (!efun::object_info(ob, OI_ONCE_INTERACTIVE) && !intp(prompt))
        efun::configure_interactive(ob, IC_PROMPT, prompt);

    mixed oldprompt = (mixed)ob->Query("Prompt");
    ob->Set("Prompt", prompt);
    return oldprompt;
}
#endif
