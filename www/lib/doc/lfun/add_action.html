<html>
<head>
<title>add_action</title>
</head>
<body>
<H2>/doc/efun/add_action</H2>
<HR>
<DL>
<DT><H3>SYNOPSIS</H3>
<DD>
	void add_action(string fun, string cmd)<BR>
	void add_action(string fun, string cmd, int flag)<BR>
	void add_action(string fun)	/* historical */
<P>
<DT><H3>DESCRIPTION</H3>
<DD>
	Set up a local function fun to be called when user input
	matches the command cmd. Functions called by a user command
	will get the arguments as a string. It must then return 0 if
	it was the wrong command, otherwise 1.
<P>
	If it was the wrong command, the parser will continue
	searching for another command, until one returns 1 or give an
	error message to the user.
<P>
	For example, there can be a wand and a rod. Both of these
	objects define as command &quot;wave&quot;. One of them will be randomly
	called first, and it must look at the argument, and match
	against &quot;wand&quot; or &quot;rod&quot; respectively.
<P>
	If second argument cmd is not given, it must be given by
	add_verb(). Support of add_verb() is for historical reasons.
<P>
	The function associated to a command will be called with a
	string as argument which stands for the given words behind the
	typed command.
<P>
	Always have add_action() called only from an init() routine.
	The object defining these commands must be present to the
	user, either being the user, being carried by the user,
	being the room around the user, or being an object in the
	same room as the user.
<P>
	If argument flag is 1, then only the leading characters of the
	command has to match the verb cmd.
<P>
	If the flag is 2, add_verb() is equivalent to add_xerb().
<P>
	Never use one of the functions 'create' 'reset' 'init' 'exit'
	'heart_beat' etc as the first argument to add_action(). In
	general, a function with a name defined in /doc/applied should
	have the behaviour defined there.
<P>
<DT><H3>EXAMPLE</H3>
<DD>
<PRE>
	add_action(&quot;GoInside&quot;, &quot;enter&quot;);
</PRE>	
	When typing &quot;enter&quot; the function GoInside() will be invoked.
<PRE>	
	add_action(&quot;DisFunc&quot;, &quot;dis&quot;, 1);
</PRE>	
	Whenever you type in a command which starts with &quot;dis&quot; the
	function DisFunc() will be called. To get the real word which
	was typed in (because until now you only know that it was a
	command beginning with &quot;dis&quot;) you have to call the efun
	query_verb().

<DT><H3>HISTORY</H3>
<DD>
	The flag==2 argument is supported since 3.2@127
<P>
<DT><H3>SEE ALSO</H3>
<DD>
<A HREF="http://quest.tat.physik.uni-tuebingen.de/doc/efun/query_verb.html">query_verb</A>
<DD>
<A HREF="http://quest.tat.physik.uni-tuebingen.de/doc/efun/add_verb.html">add_verb</A>
<DD>
<A HREF="http://quest.tat.physik.uni-tuebingen.de/doc/efun/add_xverb.html">add_xverb</A>
<DD>
<A HREF="http://quest.tat.physik.uni-tuebingen.de/doc/applied/init.html">init</A><BR>
</DL>
<HR>
<H5>| <A HREF="http://quest.tat.physik.uni-tuebingen.de/">Home</A>
 | <A HREF="http://quest.tat.physik.uni-tuebingen.de/doc/applied/applied.html">Applied</A>
 | <A HREF="http://quest.tat.physik.uni-tuebingen.de/doc/concepts/concepts.html">Concepts</A>
 | <A HREF="http://quest.tat.physik.uni-tuebingen.de/doc/efun/efun.html">Efuns</A>
 | <A HREF="http://quest.tat.physik.uni-tuebingen.de/doc/helpdir/helpdir.html">Help</A>
 | <A HREF="http://quest.tat.physik.uni-tuebingen.de/doc/intro/intro.html">Intro</A>
 | <A HREF="http://quest.tat.physik.uni-tuebingen.de/doc/lib/lib.html">Lib</A>
 | <A HREF="http://quest.tat.physik.uni-tuebingen.de/doc/LPC/LPC.html">LPC</A>
 | <A HREF="http://quest.tat.physik.uni-tuebingen.de/doc/prop/prop.html">Prop</A>
 | <A HREF="http://quest.tat.physik.uni-tuebingen.de/doc/obj/obj.html">Obj</A>
 | <A HREF="http://quest.tat.physik.uni-tuebingen.de/doc/sefun/sefun.html">Sefuns</A>
 | <A HREF="http://quest.tat.physik.uni-tuebingen.de/doc/std/std.html">Std</A>
 | <A HREF="http://quest.tat.physik.uni-tuebingen.de/doc/w/w.html">W</A>
 |</H5>
<HR>
<address>Nightfall@quest.tat.physik.uni-tuebingen.de</address>
<address>Automatically generated on Don, 11. Apr 1996</address>
